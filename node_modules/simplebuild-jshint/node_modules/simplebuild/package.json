{
  "name": "simplebuild",
  "version": "0.2.0",
  "description": "Universal task automation",
  "main": "lib/simplebuild.js",
  "repository": {
    "type": "git",
    "url": "https://github.com/jamesshore/simplebuild.git"
  },
  "directories": {
    "example": "examples"
  },
  "scripts": {
    "test": "node build.js"
  },
  "keywords": [
    "build",
    "task",
    "automation"
  ],
  "author": {
    "name": "James Shore"
  },
  "license": "MIT",
  "devDependencies": {
    "jshint": "~2.3.0",
    "mocha": "~1.15.0",
    "expect.js": "~0.2.0",
    "jake": "~0.7.6",
    "grunt": "~0.4.2",
    "grunt-cli": "~0.1.11"
  },
  "dependencies": {
    "q": "~0.9.7",
    "glob": "~3.2.7"
  },
  "readme": "Simplebuild - Universal Task Automation for Node.js\n====================\n\nTools like [Grunt](http://www.gruntjs.com) have powerful and flexible plugin ecosystems, but they only work within their walled garden. If you want to use Grunt plugins in [Jake](https://github.com/mde/jake), Jake tasks in Grunt, or write your own tool using an existing plugin... you're out of luck.\n\nWhat if we had a universal approach to task automation? What if our task libraries worked with *any* tool, but our code was still idiomatic, flexible, and powerful? Imagine how useful that would be.\n\nSimplebuild provides the solution. It's a standard way of *creating* and *plugging together* tasks that works with any tool. It's simple, but powerful; flexible, but idiomatic.\n\nNote: Simplebuild is still in the proof-of-concept stage. Feedback welcome (be kind). Simplebuild is changing rapidly and shouldn't be used for production work yet.\n\n\nDesign Goals\n-------\n\n*Simple.* Simple to use, simple to create, and simple to extend.\n\n*Replaceable.* No framework lock-in. You can use Simplebuild modules with any tool, and you can easily replace Simplebuild modules with something else.\n\n*Flexible.* Works with multiple styles of automation (Grunt, Jake, promises, etc.) and allows you to compose modules to achieve interesting results.\n\n\nExamples\n-------\n\nThe following examples use Simplebuild modules to lint and test some code. Note how Simplebuild adapts to provide clean, idiomatic solutions for each tool.\n\n(Note: these examples are slightly simplified. See [Gruntfile.js](Gruntfile.js), [Jakefile.js](Jakefile.js), or [build.js](build.js) for real code.)\n\n### Grunt\n\n```javascript\nmodule.exports = function(grunt) {\n  var simplebuild = require(\"simplebuild-ext-gruntify.js\")(grunt);\n\n  grunt.initConfig({\n    JSHint: {\n      files: [ \"**/*.js\", \"!node_modules/**/*\" ],\n      options: { node: true },\n      globals: {}\n    },\n\n    Mocha: {\n      files: [ \"**/_*_test.js\", \"!node_modules/**/*\" ]\n    }\n  });\n\n  simplebuild.loadNpmTasks(\"simplebuild-jshint\");\n  simplebuild.loadNpmTasks(\"simplebuild-mocha\");\n\n  grunt.registerTask(\"default\", \"Lint and test\", [\"JSHint\", \"Mocha\"]);\n};\n```\n\n### Jake\n\n```javascript\nvar jakeify = require(\"simplebuild-ext-jakeify.js\").map;\n\nvar jshint = jakeify(\"simplebuild-jshint.js\");\nvar mocha = jakeify(\"simplebuild-mocha.js\");\n\ntask(\"default\", [\"lint\", \"test\"]);\n\ndesc(\"Lint everything\");\njshint.validate.task(\"lint\", {\n  files: [ \"**/*.js\", \"!node_modules/**/*\" ],\n  options: { node: true },\n  globals: {}\n});\n\ndesc(\"Test everything\");\nmocha.runTests.task(\"test\", [], {\n  files: [ \"**/_*_test.js\", \"!node_modules/**/*\" ]\n});\n```\n\n### Promises\n\n```javascript\nvar promisify = require(\"simplebuild-ext-promisify.js\").map;\n\nvar jshint = promisify(\"simplebuild-jshint.js\");\nvar mocha = promisify(\"simplebuild-mocha.js\");\n\njshint.validate({\n  files: [ \"**/*.js\", \"!node_modules/**/*\" ],\n  options: { node: true },\n  globals: {}\n})\n.then(function() {\n  return mocha.runTests({\n    files: [ \"**/_*_test.js\", \"!node_modules/**/*\" ]\n  });\n})\n.then(function() {\n  console.log(\"\\n\\nOK\");\n})\n.fail(function(message) {\n  console.log(\"\\n\\nFAILED: \" + message);\n});\n```\n\n### Running the examples\n\nBefore running the examples:\n\n1. Install Node.js\n2. Download the project code\n3. Open a command prompt in the project's root directory\n4. Run `npm install` to install dependencies\n\nTo run the examples:\n\n1. Run `node build.js`, `./grunt.sh`, or `./jake.sh`. (Windows users, use `node build.js`, `node_modules\\.bin\\grunt`, or `node_modules\\.bin\\jake`.)\n\n\nComposability\n-------\n\nSimplebuild tasks can be used in any Node.js program, so it's easy to create tasks that depend on other tasks. If there's a module that does just what you need, no worries--just `require()` it and use it!\n\nSimplebuild also supports \"mapper modules\" that change the way tasks run, and \"extension modules\" that interface with other tools. For example, the `simplebuild-map-header` module adds a header to tasks, and the `simplebuild-ext-promisify` module converts tasks into promises. Modules can be chained together, providing flexibility and power, without requiring any special programming in the tasks.\n\nIn this example, a single addition (the second line) to the \"Promises\" example above adds a header to all tasks:\n\n```javascript\nvar promisify = require(\"simplebuild-ext-promisify.js\")\n  .map(\"simplebuild-map-header.js\")\n  .map;\n\nvar jshint = promisify(\"simplebuild-jshint\");\nvar mocha = promsifiy(\"simplebuild-mocha\");\n...\n```\n\nOutput:\n\n```\nBefore:                         After:\n\nGruntfile.js ok                 JSHint\nJakefile.js ok                  ======\nbuild.js ok                     Gruntfile.js ok\n    ⋮                           Jakefile.js ok\n\t\t\t\t\t\t\t\tbuild.js ok\n  ․․․․․․․․․․․․․․․․․․․               ⋮\n\n  19 passing (44ms)             Mocha\n                                =====\n\nOK                                ․․․․․․․․․․․․․․․․․․․\n\n                                  19 passing (44ms)\n\n\n                                OK\n```\n\n\nHow It Works\n-------\n\nSimplebuild's magic is based on standardized, composable function signatures and a very small supporting library. There are three kinds of Simplebuild modules:\n\n* *Task modules* do the heavy lifting of task automation. For example, the `simplebuild-jshint` module uses JSHint to check files for errors. Task modules export functions that follow a standard format: `exports.taskFunction = function(options, successCallback, failureCallback) {...}`. This is the only requirement for Simplebuild tasks, other than some recommended documentation, so they're very easy to create.\n\n* *Mapper modules* take a task module as input and provide a task module as output. (They can also convert other mapper modules, which allows them to be chained together.) They're programmed to provide a generally-useful improvement to task modules. For example, the `simplebuild-map-header` module adds a header to each task. The `createMapFunction()` call in the simplebuild library makes mapper modules easy to create.\n\n* *Extension modules* are like mapper modules, except that they don't have any restrictions on their input or output. They're most often used for compatibility with other coding styles. For example, `simplebuild-ext-promsify` turns Simplebuild tasks into promises, and `simplebuild-ext-gruntify` loads Simplebuild modules into Grunt.\n\n\nCreating Modules\n------\n\nFor now, the easiest way to create a Simplebuild module is to copy one of the existing examples:\n\n* Examples of task modules are in the [tasks/](tasks/) directory.\n\n* Examples of mapper modules are in the [mappers/](mappers/) directory.\n\n* Examples of extension modules are in the [stuff/](extensions/) directory. ...Nah, I'm just shitting you. They're in the [extensions/](extensions/) directory.\n\nEventually, the example modules will be released as standalone npm modules, but that's still in the future.\n\n\nContributions\n-------\n\nContributions, feedback, and discussions are welcome. Please use Github's issue tracker to open issues or pull requests.\n\n**Known issues**: This is still very experimental, proof-of-concept stuff. The core `simplebuild` library is likely to see a lot of changes, the spec is likely to change and improve, and there aren't any tests yet.\n\n\nFormal Specification\n-------\n**[Stability](http://nodejs.org/api/documentation.html#documentation_stability_index): 1 - Experimental**\n\nThe key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\", \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\",  \"MAY\", and \"OPTIONAL\" in this section are to be interpreted as described in [RFC 2119](http://tools.ietf.org/html/rfc2119).\n\n### Task Modules\n\nTask modules export functions that follow a common format. A task module SHOULD have a name starting with \"simplebuild-\" but not \"simplebuild-map-\" or \"simplebuild-ext-\". (For example, \"simplebuild-yourmodule.js\".) All functions exported by a task module MUST be task functions.\n\nTask functions MUST NOT be named `map()`, `sync()`, or use a name ending in `Sync()`. (These restrictions are case-sensitive.) Any other name is permitted. Each task function MUST conform to this signature:\n\n    exports.yourFunction = function(options, success, failure) { ... }\n\n`options` (REQUIRED): Configuration information. Any type of variable may be used, but an object is recommended. Each exported function MAY use this variable to determine what to do.\n\n`success()` (REQUIRED): Callback function. Each exported function MUST call success() with no parameters when it finishes successfully.\n\n`failure(messageString)` (REQUIRED): Callback function. Each exported function MUST call failure() with a brief human-readable explanation when it fails. The explanation SHOULD be less than 50 characters.\n\nEach task function SHOULD also have descriptors attached, as follows:\n\n    exports.yourFunction.title = \"Your Name\";\n    exports.yourFunction.description = \"Your description of the module.\"\n    exports.yourFunction.options = { ... }  // TBD\n    exports.yourFunction.defaults = { ... }  // TBD\n\n`title`: A human-readable name for the function. It SHOULD be written in title case. It SHOULD be less than 22 characters.\n\n`description`: A human-readable description of the function. It SHOULD be written as a single sentence, starting with a capital letter and ending with a period. It SHOULD be less than 50 characters.\n\n`options`: (to be defined -- human-readable description of options)\n\n`defaults`: (to be defined -- defaults used when an option is left blank)\n\n#### Task Behavior\n\nTask functions MUST NOT return values or throw exceptions. Instead, either the `success()` or `failure()` callback MUST be called exactly once when the task is complete. The callback MAY be called synchronously or asynchronously.\n\nTasks that fail SHOULD provide a detailed explanation suitable for debugging the problem. If the explanation is too long to fit in the 50-character failure mesage, the task SHOULD write the details to `process.stdout` before failing. (Note that calling `console.log()` is a convenient way of writing to `process.stdout`.)\n\nTasks that succeed SHOULD NOT write to `process.stdout` by default. They MAY write more if configured to do so with the `options` parameter.\n\nTasks that are slow or long-running MAY provide minimalistic progress output (such as periods) but SHOULD NOT provide more detailed information by default. They MAY write more if configured to do so with the `options` parameter.\n\nTasks SHOULD NOT write to `process.stderr` under any circumstances.\n\n\n### Mapper Modules\n\nMapper modules export a single function, `map()`, that transforms a Simplebuild module in some way. A mapper module SHOULD have a name starting with `simplebuild-map-`. (For example, `simplebuild-map-yourmapper.js`.)\n\nMapper modules SHOULD use the `createMapFunction()` API call, defined in the `simplebuild` module, to create the `map()` function. Mapper modules MUST export only one function, named `map()`. The `map()` function call itself SHOULD NOT have any side effects, but the functions `map()` returns MAY have side effects.\n\nThe `map()` function MUST take a single parameter and return an object, as follows. These requirements are handled automatically by `createMapFunction()`.\n\n* When the parameter is an object with a single key named `map`, it will be considered to be a mapper module. In this case, the `map()` function MUST return a mapper module. The returned module's `map()` function MUST wrap the provided mapper module so that calling `thisModule.map(providedModule).map(taskModule)` is equivalent to calling `thisModule.map(providedModule.map(taskModule))`\n\n* When the parameter is any other object, it will be considered to be a task module. In this case, the `map()` function MUST return a task module object. The returned task module SHOULD have different functions and/or behavior than the provided task module.\n\n* When the parameter is a string, it will be considered to be an npm module. In this case, the `map()` function MUST use the Node.js `require()` API call to load the module, then apply the above rules.\n\n\n### Extension Modules\n\nExtension modules extend the capabilities of Simplebuild. An extension module SHOULD have a name starting with \"simplebuild-ext-\" (for example, \"simplebuild-ext-yourextension.js\").\n\nExtension modules MAY export any number of functions with any signature. Exported functions MAY do anything, including accepting other Simplebuild modules as parameters. When a function supports loading task modules by name, it SHOULD also support mapper modules as well. The `createMapFunction` API call defined in the `simplebuild` module may be helpful here.\n\n\nTo Do\n-----\nThings that still need work:\n\n- When creating a module, the options and parameters need a lot of checking. Writing tests for this behavior is particularly tedious and repetitive.\n\n\nVersion History\n---------------\n* 0.2.0: Fleshed out spec further, made library work as proper npm module\n* 0.1.0: Initial release\n\nCredits\n-------\nSimplebuild is a project of [Let's Code: Test-Driven JavaScript](http://www.letscodejavascript.com), a screencast on professional, rigorous JavaScript development. Created by James Shore.\n\n\nLicense\n-------\nThe MIT License (MIT)\n\nCopyright (c) 2013 James Shore\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/jamesshore/simplebuild/issues"
  },
  "homepage": "https://github.com/jamesshore/simplebuild",
  "_id": "simplebuild@0.2.0",
  "_from": "simplebuild@~0.2.0"
}
